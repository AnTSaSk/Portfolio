---
import { SEO } from 'astro-seo';
import i18next, { t } from 'i18next';
import { HeadHrefLangs } from 'astro-i18next/components';

// Utils
import { logDecoration } from '@/utils/easteregg';
// import { getCurrentUrl } from '@/utils/seo';

// CSS
import './style.scss';

interface Props {
    title?: string | undefined;
    description?: string | undefined;
}

const {
    title = t('seo.meta.title.landing'),
    description = t('seo.meta.description.landing'),
} = Astro.props.frontmatter || Astro.props;

const currentUrl = Astro.site.toString();

// Easteregg
logDecoration();

/********************/
/**** SCHEMA.ORG ****/
/********************/
const schemaOrg = {
    '@context': 'https://schema.org/',
    '@type': 'Person',
    name: 'Alexis Besson',
    sameAs: [
        'https://twitter.com/AlexisBessonWeb',
        'https://www.linkedin.com/in/alexis-besson-web/',
        'https://github.com/AnTSaSk',
    ],
    jobTitle: 'Lead Front-end Developer',
};
---

<html lang={i18next.language}>
    <head>
        <SEO
            title={title}
            description={description}
            openGraph={{
                basic: {
                    type: 'website',
                    title: title,
                    url: currentUrl,
                    image: currentUrl + '/SocialNetworkBanner.webp',
                },
                image: {
                    alt: '',
                },
                optional: {
                    description: description,
                },
            }}
            twitter={{
                card: 'summary',
                site: currentUrl,
                creator: '@AlexisBessonWeb',
                title: title,
                description: description,
                image: currentUrl + '/SocialNetworkBanner.webp',
            }}
        />
        <meta charset="UTF-8" />
        <link
            rel="icon"
            type="image/svg+xml"
            href="/favicon-light.svg"
            media="(prefers-color-scheme: light)"
        />
        <link
            rel="icon"
            type="image/svg+xml"
            href="/favicon-dark.svg"
            media="(prefers-color-scheme: dark)"
        />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{title}</title>
        <HeadHrefLangs />
    </head>

    <body>
        <main class="t-page -landing">
            <slot />
        </main>
        <script type="application/ld+json" set:html={JSON.stringify(schemaOrg)}
        ></script>
    </body>
</html>
